---
id: m-a910
status: open
deps: []
created: 2026-02-10T06:50:57Z
type: bug
priority: P0
assignee: Adam
---
# @base path resolution is confusing — CWD vs script dir

When running mlld scripts, @base resolves to CWD rather than the script's directory. This causes confusion:

1. CLI args with relative paths fail silently — --glob 'tmp/audit-test/*.js' resolves relative to @base (CWD), not relative to where the user is or the script is.
2. Multiple scripts sharing CWD write to the same runs/ directory via @base/runs/, causing cross-contamination between unrelated runs.
3. File loads like <@sourcesDir/@filename> where @sourcesDir came from a CLI arg may resolve unexpectedly.

Users must pass absolute paths to work around this. The mental model 'paths are relative to the script' is wrong but feels natural. Either:
- Document @base behavior prominently
- Provide a @scriptDir or @self.dir built-in for script-relative paths
- Or both

