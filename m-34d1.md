---
id: m-34d1
status: closed
deps: []
created: 2026-02-22T16:55:46Z
type: bug
priority: 0
assignee: Adam Avenir
tags: [guards, error-handling]
updated: 2026-02-22T18:48:46Z
---
# Guard denial errors print twice with verbose JSON dumps

## Current behavior

When a guard denies access:
1. The same error message is printed **twice**
2. Each error includes a massive JSON dump of internal runtime objects (guardContext, guardInput, trace details) â€” hundreds/thousands of characters

## Required changes

1. **Deduplicate**: Find and fix the double-emission path so guard denial errors print exactly once.
2. **Hide verbose details**: The JSON dumps of guardContext/guardInput/trace should only appear when `--debug` is enabled. The default error should show just the guard name, the denial reason, and the denied action.

