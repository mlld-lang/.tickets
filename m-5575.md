---
id: m-5575
status: open
deps: []
created: 2026-02-23T16:34:19Z
type: bug
priority: 0
assignee: Adam Avenir
tags: [grammar, cmd]
updated: 2026-02-23T16:34:28Z
---
# cmd block pipe splits inside quoted strings

## Current behavior

```mlld
exe @test(first, second) = cmd { echo "@first | @second" }
```

The cmd parser splits on `|` before resolving @params inside quotes, breaking the command. The pipe character inside the quoted string is treated as a pipeline operator.

## Expected behavior

Pipe characters inside quoted strings in cmd blocks should be treated as literal characters, not pipeline operators. The parser should respect quoting context before splitting on `|`.

## Fix

Fix the cmd block tokenizer to track quoted context and only split on `|` when not inside quotes.

