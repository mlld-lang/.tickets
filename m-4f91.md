---
id: m-4f91
status: closed
deps: [m-a910]
created: 2026-02-10T19:51:23Z
type: task
priority: P0
assignee: Adam
updated: 2026-02-12T17:41:24Z
---
# Standardize @root over @base in all docs and examples

Both @root and @base already work as aliases for the project root path resolver. @root is clearer and should be the standard.

Action:
- Update all docs to use @root instead of @base
- Update all example scripts (plugins/orchestrate/examples/) to use @root
- Update SKILL.md, gotchas.md, syntax-reference.md
- Update mlld howto content
- Keep @base working (it's an alias) but mark as deprecated in docs
- @root stays outside @mx namespace — it's a path resolver, not a system utility

Related: m-a910 (@base path resolution confusion)


**2026-02-12 17:30 UTC:** Implementation plan for m-4f91 (defer-to-P1) — exhaustive change inventory

Constraint (confirmed):
- @base and @root remain path resolvers. Do NOT move either into @mx.*.
- Runtime alias behavior stays intact; this ticket is docs/examples standardization + deprecation messaging.

Required change set

1) Mechanical path-resolver standardization (@base/... -> @root/..., <@base...> -> <@root...>, "@base" cwd args -> "@root")
Files that need/needed this replacement:
- llms.txt
- llm/run/howto.mld
- docs/dev/AST.md
- docs/dev/HOWTO-PATTERN.md
- docs/dev/IMPORTS.md
- docs/dev/INTERPRETER.md
- docs/dev/J2BD.md
- docs/dev/MODULES.md
- docs/dev/PIPELINE.md
- docs/dev/RESOLVERS.md
- docs/dev/TESTS.md
- docs/llm/llms-core-rules.txt
- docs/llm/llms-mistakes.txt
- docs/llm/llms-modules.txt
- docs/llm/llms-syntax.txt
- docs/src/atoms/mistakes/xml-vs-file-tags.md
- docs/src/atoms/modules/import-templates.md
- docs/src/atoms/modules/importing-local.md
- docs/src/atoms/modules/resolvers.md
- docs/src/atoms/security/audit-log.md
- docs/src/atoms/security/label-tracking.md
- docs/src/atoms/security/labels-source-auto.md
- docs/src/atoms/security/policy-capabilities.md
- docs/src/atoms/syntax/templates-basics.md
- docs/user/content-and-data.md
- docs/user/reference.md

2) Manual follow-up edits where exact `@base` token remains (must be intentionally retained only as compatibility/deprecation note)
Current exact-token locations to resolve intentionally:
- docs/src/atoms/patterns/prose.md:94
- docs/src/atoms/syntax/reserved-variables.md:17
- plugins/orchestrate/skills/orchestrator/gotchas.md:33
- plugins/orchestrate/skills/orchestrator/gotchas.md:113
- plugins/orchestrate/skills/orchestrator/gotchas.md:115
- docs/user/introduction.md:293
- docs/llm/llms-patterns.txt:257
- docs/dev/RESOLVERS.md:57
- docs/dev/RESOLVERS.md:110
- docs/dev/RESOLVERS.md:240
- docs/user/prose.md:50
- docs/user/prose.md:85
- docs/user/reference.md:347
- docs/user/reference.md:560
- docs/user/security/autosign-autoverify.md:116
- docs/dev/IMPORTS.md:136
- docs/dev/IMPORTS.md:196
- docs/llm/llms-syntax.txt:345
- docs/src/atoms/security/autosign-autoverify.md:117
- docs/src/atoms/security/labels-source-auto.md:39
- docs/dev/MODULES.md:86
- docs/dev/MODULES.md:199
- docs/dev/MODULES.md:347

3) Correctness fixes needed after mechanical replacement (important)
- docs/src/atoms/modules/resolvers.md
  - Currently has duplicate @root bullets for both script dir and project root.
  - Must become:
    - @root/file -> Project root (preferred)
    - @base/file -> Current script directory (legacy alias; discouraged in new docs)
- docs/dev/PIPELINE.md:1117
  - Current line says @root for both script-relative and project-root behavior.
  - Must explicitly distinguish @base (script dir behavior) vs @root (project root behavior), while still recommending @root in examples.
- docs/user/reference.md:67
  - `run cmd(@root):/ {echo "$base"}` needs variable-name consistency (likely `$root` if arg is @root).
- Any prose in docs claiming wrong semantics must be corrected to current runtime truth:
  - @base = current script directory alias
  - @root = project root

4) Skills + orchestrate docs/examples coverage
- plugins/orchestrate/examples/*
  - Verify examples only use @root for new path guidance.
- plugins/orchestrate/skills/orchestrator/SKILL.md
  - Keep @root in examples and cwd args.
- plugins/orchestrate/skills/orchestrator/syntax-reference.md
  - Keep @root in @claudePoll argument docs.
- plugins/orchestrate/skills/orchestrator/gotchas.md
  - Rewrite path section; it currently states @base is project root (incorrect).
  - Add explicit deprecation note: @base supported as alias, prefer @root in new orchestrators.

5) Howto content
- llm/run/howto.mld
  - Keep @root when loading docs atoms.
- docs/src/atoms/* and docs/user/reference.md/howto surfaces
  - Ensure examples shown by `mlld howto` prefer @root.

6) Deprecation messaging (required by ticket)
Add clear, consistent messaging in user + dev docs:
- New examples use @root.
- @base remains supported alias for compatibility.
- Mark @base as deprecated/prefer @root in narrative docs (not by removing runtime support).

7) Validation + regeneration work required when implementing
- Rebuild docs fixtures after doc text changes:
  - npm run build:fixtures
- Run full test suite:
  - npm test
- Update CHANGELOG.md with a dedicated entry for @root standardization and @base deprecation guidance.

8) Completion criteria for future implementation pass
- `rg -nP "(?<![A-Za-z0-9_])@base(?![A-Za-z0-9_])" docs llms.txt plugins/orchestrate examples llm/run/howto.mld`
  - returns only intentional compatibility/deprecation mentions (no preferred examples).
- No examples in docs/howto/skills/orchestrate use @base as recommended syntax.
- Existing runtime behavior preserved: @base continues to work.
