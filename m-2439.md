---
id: m-2439
status: closed
deps: []
links: []
created: 2026-01-29T04:46:46Z
type: bug
priority: 0
parent: 
assignee: Adam
tags: [interpreter, when, scoping]
updated: 2026-01-30T11:37:06Z
---
# let inside when-arrow creates scoped variable instead of reassigning

Using `let` inside a `when condition => expr` creates a new block-scoped variable instead of reassigning the outer one. Example: `let @result = {a:1}; when @flag => let @result = {...@result, b:2}` - the outer @result still doesn't have 'b' field. This is confusing because it looks like reassignment.

