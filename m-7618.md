---
id: m-7618
status: open
deps: []
created: 2026-02-19T17:14:59Z
type: bug
priority: 0
assignee: Adam Avenir
---
# Spec: correct checkpoint examples to use exe llm pattern instead of let llm

The spec shows checkpoint-eligible code using 'let llm' inside blocks, which does not parse. Labels belong on immutable declarations (var/exe) because taint tracking on mutable let is not feasible. The correct pattern is exe llm @wrapper(...) at module level, then calling it from blocks. The spec needs corrections in: 'What gets cached' (line ~159-166), 'Integration with for-parallel' (line ~691-698), 'When forking hits vs misses' (line ~810-821). The plan may also need updates.

## Acceptance Criteria

1. All let llm examples in spec replaced with exe llm wrapper pattern. 2. New 'Checkpoint Patterns' section explains why labels live on exe/var not let. 3. Plan document updated if affected.

