---
id: m-7618
status: closed
deps: []
created: 2026-02-19T17:14:59Z
type: bug
priority: 0
assignee: Adam Avenir
updated: 2026-02-19T23:21:24Z
---
# Spec: correct checkpoint examples to use exe llm pattern instead of let llm

The spec shows checkpoint-eligible code using 'let llm' inside blocks, which does not parse. Labels belong on immutable declarations (var/exe) because taint tracking on mutable let is not feasible. The correct pattern is exe llm @wrapper(...) at module level, then calling it from blocks. The spec needs corrections in: 'What gets cached' (line ~159-166), 'Integration with for-parallel' (line ~691-698), 'When forking hits vs misses' (line ~810-821). The plan may also need updates.

## Acceptance Criteria

1. All let llm examples in spec replaced with exe llm wrapper pattern. 2. New 'Checkpoint Patterns' section explains why labels live on exe/var not let. 3. Plan document updated if affected.


**2026-02-19 23:15 UTC:** Found 4 remaining 'let llm' instances in spec-hooks-checkpoints-resume.md at lines ~160, 164, 692, 811/814. The required 'Checkpoint Patterns' section explaining why labels belong on exe/var (not let) is also missing. Plan document does not need updates (no incorrect patterns found there).
