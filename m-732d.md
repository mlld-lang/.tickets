---
id: m-732d
status: closed
deps: []
links: []
created: 2026-01-28T21:47:32Z
type: bug
priority: 2
assignee: Adam
---
# Object literal values don't evaluate ternary expressions

When a ternary expression is used as a value in an object literal, the AST node is stored instead of the evaluated result.

**Reproduction:**
```mlld
let @config = { foo: 1 }
let @run = {
  config: @config ? @config : { batch_size: 5 }
}
output @run to "test.json"
```

**Expected:** config field contains `{ foo: 1 }`
**Actual:** config field contains the TernaryExpression AST node

**Workaround:** Evaluate ternary to a variable first:
```mlld
let @resolved = @config ? @config : { batch_size: 5 }
let @run = { config: @resolved }
```

**Root cause hypothesis:** Object literal evaluator isn't recursively evaluating expressions that appear as property values.

