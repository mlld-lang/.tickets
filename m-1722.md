---
id: m-1722
status: open
deps: []
created: 2026-02-24T20:43:17Z
type: bug
priority: 0
assignee: Adam Avenir
---
# Guard against writing files named [object Object]

When a file path evaluates to `[object Object]` (due to an object being coerced to string in a path context), mlld should throw an error rather than silently creating a file with that name.

**Observed**: `output @data to "@runDir/doc-clarity-report.json"` is creating a file named `[object Object]` in the script's base directory instead of writing to the intended path. The file contains the correct JSON data but the path is wrong.

**Root cause**: Unknown — either `@runDir` is resolving to an object in certain contexts, or the `to` path string is being evaluated incorrectly. The `[object Object]` string is a classic JS symptom of `String(someObject)`.

**Fix needed**: 
1. Add a guard in the output/append directives that rejects paths containing `[object Object]` and throws a clear error identifying which variable resolved to an object instead of a string
2. Investigate the root cause — why a variable that should be a string is resolving as an object in certain execution contexts

## Acceptance Criteria

1. Writing to a path containing `[object Object]` throws an MlldDirectiveError instead of creating the file
2. Error message identifies the path expression and suggests which variable is an object

