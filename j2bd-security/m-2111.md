---
id: m-2111
status: closed
deps: []
created: 2026-02-09T19:46:39Z
type: task
priority: 2
assignee: Adam Avenir
tags: [adversarial, phase-4, urgency-high]
updated: 2026-02-09T19:55:04Z
---
# Adversarial: MCP security exit criteria verification

Run adversarial verification against ALL MCP security job exit criteria.

## Exit Criteria to Verify

1. **Demo runs end-to-end** - `mlld j2bd/security/artifacts/mcp-security-demo.mld` executes successfully
2. **src:mcp auto-taint** - MCP tool outputs carry src:mcp taint (Scenario 1 in demo)
3. **Guard blocks secrets** - Secret data blocked from flowing to MCP tools (Scenario 2)
4. **Policy restricts src:mcp** - MCP-tainted data blocked from destructive ops (Scenario 3)
5. **Profile-based availability** - @mcpConfig() returns different configs per profile (Scenario 4)
6. **Env module exports** - mcp-env-module.mld exports @spawn, @shell, @mcpConfig

## Artifacts to Test

- `j2bd/security/artifacts/mcp-security-demo.mld` - Main demo (run with `mlld`)
- `j2bd/security/artifacts/mcp-env-module.mld` - Environment module
- Atoms: docs/src/atoms/security/mcp-{security,policy,guards}.md, env-config.md

## Test Approach

1. Run the demo end-to-end, capture output
2. Verify output contains evidence for each criterion:
   - src:mcp appears in taint output
   - BLOCKED appears for secret->MCP attempt
   - Policy denial appears for src:mcp->destructive
   - Profile selection shows different behavior
3. Validate atom examples with `mlld validate`
4. Try to BREAK the restrictions (attempt to bypass guards/policy)

## Starting commit
71ccee0c4


**2026-02-09 19:55 UTC:** Phase 4 complete. Friction observations recorded: (1) trusted!/!label/clear! guard actions not in grammar (spec-vs-impl gap, not a security issue), (2) 429 rate limit noise from GitHub API during MCP demo startup (cosmetic).
