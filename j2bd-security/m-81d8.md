---
id: m-81d8
status: closed
deps: []
created: 2026-02-06T01:34:18Z
type: task
priority: 2
assignee: Adam
tags: [adversarial, phase-4]
updated: 2026-02-06T01:58:48Z
---
# Phase 4: Adversarial verification of MCP security

Red-team the MCP security implementation. Try to break every exit criterion claim.

Exit criteria to verify:
1. mcp-security atom: src:mcp auto-taint on outputs - verify taint is actually present and cannot be removed
2. mcp-policy atom: label flow rules for MCP data - verify policy actually blocks destructive ops
3. mcp-guards atom: guards block secret data from MCP tools - verify guard fires on secret data
4. env-config atom: @mcpConfig() adapts to profiles - verify profile switching works
5. Artifacts run end-to-end without errors
6. Atom code examples are accurate and run correctly

Adversarial tests to run:
- Run mcp-security-demo.mld and verify actual output
- Try to call destructive exe with MCP-tainted data (should be blocked by policy)
- Try to pass secret data to MCP tool (should be blocked by guard)
- Verify readonly profile doesn't have full tools
- Try to remove src:mcp taint (should fail - protected label)
- Check if atom examples reference nonexistent syntax or APIs
- Verify guard context variables (@mx.op.type, @mx.op.name) actually exist
- Test that taint propagates through string interpolation
- Test env module imports/exports correctly

Artifacts: j2bd/security/artifacts/mcp-security-demo.mld, j2bd/security/artifacts/mcp-env-module.mld
Atoms: docs/src/atoms/security/{mcp-security,mcp-policy,mcp-guards,env-config}.md

Return exit_criteria_results array with PASS/FAIL for each criterion.

