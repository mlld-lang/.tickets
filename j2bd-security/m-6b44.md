---
id: m-6b44
status: closed
deps: [m-7dfa]
created: 2026-02-09T09:31:06Z
type: task
priority: 1
assignee: Adam Avenir
tags: [phase-3, impl, urgency-high]
updated: 2026-02-09T09:58:37Z
---
# Restructure main.mld: fix guard ordering and demonstrate enforcement

Adversarial testing found that: (1) enforcement guard @ensureVerified is defined at line 61 AFTER the exe llm call at line 45, (2) the end-to-end flow uses non-llm exe @processTask to avoid triggering the guard, so the guard is never demonstrated. Fix: Move guard definition before all exe llm calls. Restructure end-to-end flow to actually trigger and demonstrate the enforcement guard. Add comment explaining that in production the guard should be privileged (with { privileged: true }) to prevent bypass.

