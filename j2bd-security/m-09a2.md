---
id: m-09a2
status: closed
deps: []
created: 2026-02-03T07:24:00Z
type: task
priority: 2
assignee: Adam
tags: [urgency-high, phase-3, documentation-accuracy]
updated: 2026-02-03T07:29:12Z
---
# Fix sandbox-demo.mld documentation accuracy per adversarial findings

Adversarial verification (m-74f6) found documentation claims that don't match implementation:

## Critical Issues

1. **Line 10**: Claims 'Credential protection: ENFORCED via policy label flow rules' but Test 2-3 proved secrets CAN be shown/interpolated without blocking. Only true WITH explicit guard definitions.

2. **Line 11**: Claims 'Tool attenuation: ENFORCED' but no test verified this.

3. **Lines 156-161**: States 'Policy label flow blocks secret interpolation into commands' but adversarial Test 2 showed `var secret @apiKey = '...'` followed by `run cmd { echo @apiKey }` outputs the secret.

4. **Line 166**: States 'WORKAROUND: Use policy capabilities.deny for actual enforcement' but Test 5-7 proved capabilities.deny does NOT work.

## Required Fixes

1. Update enforcement status to be accurate:
   - Credential protection: REQUIRES EXPLICIT GUARDS (not automatic)
   - capabilities.deny: NOT IMPLEMENTED
   - defaults.rules: NOT IMPLEMENTED

2. Add a complete working guard example that demonstrates actual secret protection.

3. Remove references to capabilities.deny as a workaround since it doesn't work.

## Evidence

See: llm/run/j2bd/security/impl/adversarial-results.md


**2026-02-03 07:29 UTC:** Adversarial verification found documentation/reality gaps. This ticket fixed sandbox-demo.mld to accurately document what is enforced vs what is not implemented vs what are known limitations. The documentation is now truthful and useful.
