---
id: m-93e7
status: closed
deps: []
created: 2026-02-04T23:20:08Z
type: task
priority: 2
assignee: Adam
tags: [adversarial, urgency-high]
updated: 2026-02-04T23:29:28Z
---
# Adversarial verification of audit-guard-pattern exit criteria

## Objective

Prove that ALL exit criteria from the job are satisfied through adversarial testing.

## Exit Criteria to Verify

1. **Signed audit template** - verify `sign @auditCriteria by "security-team" with sha256` works and creates signature files
2. **First agent with influenced output** - verify `exe llm` processing untrusted data produces output with `influenced` label
3. **Auditor verifies instructions** - verify `autoverify: true` injects MLLD_VERIFY_VARS and verification instructions
4. **Guard blocks on audit failure** - verify the when/else pattern correctly blocks action when audit.approved is false
5. **End-to-end flow** - run main.mld and confirm: untrusted input -> influenced output -> audit -> rejection of injection attempt

## Verification Tasks

1. Run `mlld validate llm/run/j2bd/security/impl/main.mld` - confirm syntax is valid
2. Run the main.mld script end-to-end if possible, or trace through to confirm the flow works
3. Check signature storage in `.mlld/sec/sigs/` after signing
4. Verify the `influenced` label would be applied (check policy rule is configured)
5. Verify autoverify injection mechanism exists (check interpreter code if needed)
6. Attempt to falsify: try to break the demo by:
   - What happens if signature is tampered?
   - What happens if autoverify is disabled?
   - Does the influenced label actually propagate?

## Return Format

Return status: 'verified' if ALL exit criteria pass, or 'failed' with specific failures listed.

Include:
```json
{
  "status": "verified|failed",
  "exit_criteria_results": [
    { "criterion": "...", "result": "PASS|FAIL", "evidence": "..." }
  ],
  "additional_tests": [...]
}
```


**2026-02-04 23:29 UTC:** All exit criteria verified. Friction points noted (verify returns result for LLM to check rather than throwing, demo uses mocks) are by-design per spec.
