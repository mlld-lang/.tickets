---
id: m-8702
status: closed
deps: []
created: 2026-02-05T00:48:10Z
type: task
priority: 2
assignee: Adam
tags: [adversarial, verification]
updated: 2026-02-05T01:16:17Z
---
# Adversarial verification: MCP security exit criteria

## Purpose
Verify all exit criteria for the MCP security job hold by running the existing implementation end-to-end and checking specific claims.

## Exit Criteria to Verify

### Phase 1: Documentation
- [ ] mcp-import atom exists and has working validated mlld examples
- [ ] mcp-security atom exists and has working validated mlld examples  
- [ ] mcp-policy atom exists and has working validated mlld examples
- [ ] mcp-guards atom exists and has working validated mlld examples

### Phase 2: Implementation  
- [ ] Import MCP tools works (run pipeline/mcp-security-demo.mld)
- [ ] Tool outputs have src:mcp taint automatically
- [ ] Guard blocks secret data from flowing to MCP tools
- [ ] Policy restricts MCP tool operations
- [ ] Audit trail/logging via after-guard works

### Phase 3: Verification
- [ ] `import tools from mcp` syntax works
- [ ] Automatic tainting works (`@result.mx.taint` includes 'src:mcp')
- [ ] `guard before op:exe` triggers on MCP calls with secret data
- [ ] Secret data is blocked from flowing to MCP tools

## Test Approach

1. Run `mlld validate` on all 4 atom files to verify syntax
2. Run `npx mlld pipeline/mcp-security-demo.mld` and verify output shows:
   - MCP tools imported successfully
   - Guard warning fires when secret flows to MCP tool
   - 'BLOCKED' message appears for secret data
   - Audit trail info appended to results
3. Attempt to falsify claims:
   - Try to pass secret data to MCP tool without guard catching it
   - Try to use MCP output without src:mcp taint

## Files to Examine
- docs/src/atoms/security/mcp-import.md
- docs/src/atoms/security/mcp-security.md
- docs/src/atoms/security/mcp-policy.md
- docs/src/atoms/security/mcp-guards.md
- pipeline/mcp-security-demo.mld
- tests/support/mcp/fake-server.cjs


**2026-02-05 01:16 UTC:** Final verification run completed successfully after mcp-guards.md syntax fix. All exit criteria items: PASS.
