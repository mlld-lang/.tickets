---
id: m-d431
status: closed
deps: []
created: 2026-02-05T13:18:28Z
type: task
priority: 2
assignee: Adam
tags: [adversarial, phase-4]
updated: 2026-02-05T13:23:12Z
---
# Phase 4: Adversarial verification of audit ledger and file taint

## Objective

Prove the exit criteria: 'The audit ledger provides a clear, queryable history, and file taint propagation is visible through both labels and audit entries.'

## Verification Requirements

1. **Run file-taint-demo.mld end-to-end** - Verify it executes without errors and produces expected output

2. **Verify taint inheritance cannot be bypassed**:
   - Write a secret-labeled value to disk
   - Read it back and confirm labels are present
   - Try to read the file with a fresh mlld session - taint should still inherit from audit log

3. **Verify audit ledger is queryable**:
   - Confirm write events have path, taint, writer fields
   - Query for specific file paths
   - Query for events by type

4. **Test edge cases**:
   - Overwrite a file with different labels - does the new taint replace the old?
   - What happens if audit.jsonl is missing or corrupted?
   - Multiple writes to same file - does read get latest taint?

## Exit Criteria Checklist

Return status: 'verified' or 'failed' with exit_criteria_results array showing PASS/FAIL for:

- [ ] Audit ledger provides clear, queryable history
- [ ] File taint propagation visible through labels
- [ ] File taint propagation visible through audit entries

## Evidence Required

- Command outputs showing successful demo execution
- Audit log contents demonstrating write events
- File read showing inherited labels
- Any edge case failures discovered


**2026-02-05 13:23 UTC:** Exit criteria results: 3/3 PASS. Additional tests: 3/5 PASS, 2 found edge case bugs not blocking exit criteria. Friction points documented for future tickets.
