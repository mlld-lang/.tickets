---
id: m-1a66
status: closed
deps: []
created: 2026-02-09T10:09:26Z
type: task
priority: 2
assignee: Adam Avenir
tags: [phase-5, polish, urgency-high]
updated: 2026-02-09T10:12:49Z
---
# Polish doc atoms per excellence assessment findings

Excellence assessment found 4 addressable gaps (2 high, 2 medium). All are doc edits to existing atoms.

## High Severity

### 1. Autoverify vs enforcement guard distinction is buried
The CENTRAL DESIGN INSIGHT ('autoverify ASKS, the guard REQUIRES') appears only as a bullet in autosign-autoverify.md's defense section.

**Fix:** Add a prominent callout in BOTH:
- docs/src/atoms/security/autosign-autoverify.md — after the 'What autoverify does' section, add: 'autoverify ASKS the LLM to verify. An enforcement guard REQUIRES it. Use both: autoverify for the happy path, the guard for the enforcement path. See pattern-audit-guard.'
- docs/src/atoms/security/pattern-audit-guard.md — add a 'Why you need both' note before or after the code example.

### 2. Guard ordering is a silent-failure footgun
Mentioned only in Notes bullet of pattern-audit-guard.md. If a user gets this wrong, the guard simply doesn't fire.

**Fix:** In docs/src/atoms/security/pattern-audit-guard.md, change the Notes bullet about guard ordering into a prominent **Warning:** block. Something like:
'**Warning:** Guards only apply to operations that execute AFTER the guard is registered. Define enforcement guards BEFORE the exe llm calls they should protect. If a guard is defined after an exe llm call, it will silently not fire for that call.'

## Medium Severity

### 3. WRONG signing example needs expansion
In signing-overview.md, the WRONG example doesn't explain WHY signing after interpolation is dangerous.

**Fix:** Add a brief explanation after the WRONG example: 'Signing after interpolation includes attacker-controlled content in the signed payload. The signature then authenticates tainted data, defeating the purpose.'

### 4. MCP vs standalone mode note
The enforcement guard pattern only works fully in MCP mode. Users testing locally may think it's broken.

**Fix:** Add a note to pattern-audit-guard.md's Notes section: 'The enforcement guard checks @mx.tools.calls for the verify tool. In MCP mode, the LLM calls mlld verify which populates this field. In standalone mode (no MCP), @mx.tools.calls is empty and the guard always blocks — this is correct behavior, demonstrating the enforcement path. To test the full allow path, run with an MCP-connected LLM.'

## Constraints
- Keep atoms within 100-200 word guideline (a few words over is fine for critical safety notes)
- Do NOT add new atoms or restructure existing ones
- These are surgical edits to existing text


**2026-02-09 10:12 UTC:** All 3 remaining edits applied: (1) enforcement guard code block added to pattern-audit-guard example, (2) sign-verify restructured to distinguish directive vs CLI, (3) labels-influenced comment updated to show actual label output. Combined with prior m-0163 edits, all 7 excellence assessment polish items addressed across 5 files.
