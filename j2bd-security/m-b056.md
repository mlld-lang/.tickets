---
id: m-b056
status: closed
deps: []
created: 2026-02-09T15:34:12Z
type: task
priority: 2
assignee: Adam Avenir
tags: [urgency-high]
updated: 2026-02-09T15:41:47Z
---
# Fix 3 adversarial failures: exporting atom, demo-usage, env-overview

Adversarial verification (m-4ef1) found 3 critical failures. Fix all three:

## 1. Expand modules-exporting atom (CRITICAL)

File: `docs/src/atoms/modules/exporting.md`
Current: 36 words, no prose, code uses invalid `[...]` placeholder.
Target: 100-200 words with valid mlld code examples.

Expand to cover:
- What `export` does (makes items available to importers)
- Why explicit exports matter (encapsulation, clear API surface)
- Common patterns: exporting executables, config objects
- Replace `[...]` with valid mlld syntax
- Add related tag for env-modules since this is key to the environment module workflow
- Update related list to include env-overview, policy-auth

## 2. Fix demo-usage.mld auth failure (CRITICAL)

File: `examples/env-modules/demo-usage.mld`
Error: `Auth config claude is not defined in policy (AUTH_NOT_CONFIGURED)`
Cause: Policy configs are scoped to declaring module, don't propagate to importers.

Fix: Add `/import policy @p from "./claude-dev/index.mld"` before importing executables. This is the correct pattern â€” callers explicitly opt into a module's auth policy.

## 3. Fix env-overview @base variable conflict

File: `docs/src/atoms/security/env-overview.md` block 2 (lines 35-41)
Error: `@base` conflicts with reserved variable name.
Fix: Rename `@base` to `@baseEnv` in the code example.

