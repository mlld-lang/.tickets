---
id: m-b453
status: closed
deps: []
created: 2026-02-17T23:13:04Z
type: task
priority: 2
assignee: Adam Avenir
updated: 2026-02-18T07:39:40Z
---
# Fold VARIABLE-IMPORTER-BOUNDARIES.md into IMPORTS.md

Merge variable-importer boundary notes into docs/dev/IMPORTS.md.

## Acceptance Criteria

- docs/dev/IMPORTS.md covers variable importer boundary rules that are still relevant.\n- docs/dev/VARIABLE-IMPORTER-BOUNDARIES.md is ready for deletion by the remove ticket.


**2026-02-17 23:37 UTC:** Doc-audit input (source: `llm/run/doc-audit/tmp/results.json`) for this ticket.
This input MUST be verified with 100% confidence during implementation.

Files in scope to verify:
- `docs/dev/IMPORTS.md` [mostly-current]: Architecture and component names are accurate, but several code examples use wrong function/class signatures and the circular import detection description misrepresents the implementation

Verification bar (required):
- Confirm or disprove each finding for the files above against current code/docs with 100% confidence.
- If disproved, record why with concrete file references.
- If confirmed, update docs in this ticket scope and keep links/frontmatter consistent.

**2026-02-18 00:06 UTC:** Verified against current code. Use this as the decisive merge list.

## docs/dev/IMPORTS.md

- Fold `VARIABLE-IMPORTER-BOUNDARIES.md` into `IMPORTS.md` as a compact “Variable Importer Boundaries” section.
- Keep boundary ownership aligned to current extracted modules:
  - Serialization boundary:
    - `VariableImporter.processModuleExports` orchestrates
    - `ModuleExportManifestValidator` resolves export plan
    - `ModuleExportSerializer` serializes exports + metadata envelope
    - `GuardExportChecker` validates/serializes guard definitions
    - `VariableImportUtilities.isLegitimateVariableForExport` gates export eligibility
    - executable env rehydration via `ExecutableImportRehydrator` + `CapturedEnvRehydrator`
  - Import routing boundary:
    - `VariableImporter.importVariables` parses metadata map + delegates
    - `ImportTypeRouter` routes `importNamespace`/`importSelected`/`importPolicy`
    - `NamespaceSelectedImportHandler` owns namespace/selected binding behavior
    - `PolicyImportHandler` owns policy config selection + guard registration
  - Factory/value boundary:
    - `ImportVariableFactoryOrchestrator` routes by value shape
    - strategy modules under `variable-importer/factory/*` own reconstruction logic
    - `VariableImportUtilities` owns snapshot unwrapping, namespace shaping, complexity inference, display-path normalization
  - Dependency direction:
    - `VariableImporter` depends on extracted modules
    - extracted modules remain acyclic w.r.t. `VariableImporter`
    - callback direction remains explicit (utilities -> importer -> executable rehydrator; rehydrator -> importer -> factory)

- Confirmed in-scope `IMPORTS.md` corrections still required (same audit findings):
  - Fix wrong API/signature examples (path resolution, MlldImportError constructor shape, binding helper ownership).
  - Correct circular import detection description:
    - import tracking storage is `Set<string>` on `ImportResolver`, delegated through env methods; not a local array on `ImportSecurityValidator`.

## docs/dev/VARIABLE-IMPORTER-BOUNDARIES.md

- After merging the boundary section into `IMPORTS.md`, mark this file ready for deletion.
- Do not keep duplicated standalone boundary documentation once canonicalized.
