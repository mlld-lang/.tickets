---
id: m-437a
status: closed
deps: []
created: 2026-02-19T23:02:01Z
type: chore
priority: 2
assignee: Adam Avenir
tags: [severity-medium, polish]
updated: 2026-02-20T00:00:36Z
---
# Populate durationMs in checkpoint entries

## Problem

The spec includes `durationMs` in checkpoint records and `CheckpointRecord` declares the field, but it's never populated because no code sets timing information on `OperationContext.metadata`.

## Evidence

- `CheckpointManager.ts:42`: `CheckpointRecord` declares `durationMs?: number`
- `CheckpointManager.ts:69`: `CheckpointPutEntry` declares `durationMs?: number`
- `checkpoint-post-hook.ts:123-133`: `put()` call never includes `durationMs`
- No timing measurement exists in the checkpoint hook lifecycle

## Fix

Track execution start time in checkpoint-pre-hook (on cache miss), compute duration in checkpoint-post-hook, pass to `manager.put()`.

