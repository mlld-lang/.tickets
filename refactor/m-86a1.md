---
id: m-86a1
status: open
deps: [m-5ca6]
created: 2026-02-09T07:05:00Z
type: task
priority: 1
assignee: Adam Avenir
parent: m-a97c
tags: [refactor, variable-importer, phase-6]
updated: 2026-02-09T07:05:00Z
---
# Refactor Program: Modularize interpreter/eval/import/VariableImporter.ts - Phase 6: Extract namespace and policy import handlers



Objective:
Modularize namespace/selected/policy import assignment handlers.

Instructions for the implementing agent:
- In scope: namespace/selected import handlers and policy config/guard registration extraction.
- Out of scope: executable rehydration internals and low-level factory strategy extraction.
- Extract namespace and selected import handlers with explicit dependency on extracted binding/factory services.
- Extract policy config resolution/recording + generated policy guard registration behavior.
- Add tests for namespace aliasing, @payload/@state missing field behavior, and policy import outcomes.

Module boundaries:
- Namespace/selected handler module owns assignment behavior and aliasing rules.
- Policy import module owns policy config resolution/recording and generated guard registration.
- Routing module delegates to these handlers by subtype.

Preserve behavior checks:
- Namespace aliasing and selected-import behavior remain unchanged.
- `@payload`/`@state` missing-field behavior remains unchanged.
- Policy import recording and generated guard registration behavior remain unchanged.

## Acceptance Criteria

1. Namespace/selected/policy assignment logic is extracted into focused handlers.
2. Assignment semantics and policy import behavior remain baseline-compatible.
3. Tests cover aliasing, missing-field behavior, and policy outcomes.
4. Exit criteria: test gate command succeeds and output is attached:
   npm run build && npm test && npm run test:tokens && npm run test:examples
