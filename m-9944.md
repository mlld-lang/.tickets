---
id: m-9944
status: closed
deps: []
created: 2026-02-10T04:08:45Z
type: bug
priority: 0
assignee: Adam
tags: [p0, developer-experience]
updated: 2026-02-12T12:58:16Z
---
# Reserved variable names not documented — 'exists' and 'upper' collide silently

## Summary

Variable names like `@exists` and `@upper` throw "Variable 'X' is already defined" even on first use, because they collide with undocumented built-in names. The reserved name list is not documented or discoverable.

## Repro

```mlld
var @items = ["a", "b"]
var @results = for @item in @items [
  let @exists = "yes"
  => @exists
]
```

**Error:** `Variable 'exists' is already defined and cannot be redefined`

This happens on the very first use of `let @exists` — there is no prior definition in user code. The name collides with a built-in.

Same with `@upper`:
```mlld
let @upper = "HELLO"
>> Error: Variable 'upper' is already defined
```

## Impact

Medium-high. Common English words are reserved without documentation. Users discover collisions only at runtime with an error message that says "already defined" — implying they defined it twice, when they never defined it at all.

## Expected Behavior

Either:
1. Document the full list of reserved variable names (preferred)
2. Improve the error message: "Variable 'exists' conflicts with built-in 'exists'" instead of "is already defined"
3. Both

## Workaround

Use different names: `@fileCheck` instead of `@exists`, `@uppercased` instead of `@upper`.

## References

- `docs/dev/DATA.md` — StructuredValue and Variable model
- The built-in name registry (wherever `exists`, `upper`, etc. are defined)


**2026-02-12 12:58 UTC:** Extended built-in collision coverage to include transformer names (for example @upper), improved validate output messaging for built-in conflicts, and updated reserved variable docs with built-in transformer names. Full npm test passes.
